# ⚠️  DO NOT COMMIT THIS FILE WITH REAL CREDENTIALS
# This is a template - copy to .env and customize
# The .env file is in .gitignore and will not be committed

# OBP-Rabbit-Cats-Adapter Configuration Example
# Copy this file to .env and customize for your environment

# ============================================================================
# RABBITMQ CONFIGURATION
# ============================================================================
# Connection details for RabbitMQ message broker

RABBITMQ_HOST=localhost
RABBITMQ_PORT=5672
RABBITMQ_VIRTUAL_HOST=/
RABBITMQ_USERNAME=guest
RABBITMQ_PASSWORD=guest

# Queue names (must match OBP-API configuration)
RABBITMQ_REQUEST_QUEUE=obp.request
RABBITMQ_RESPONSE_QUEUE=obp.response

# Performance tuning
RABBITMQ_PREFETCH_COUNT=10
RABBITMQ_CONNECTION_TIMEOUT=30
RABBITMQ_HEARTBEAT=60
RABBITMQ_AUTOMATIC_RECOVERY=true
RABBITMQ_QUEUE_DURABLE=true
RABBITMQ_QUEUE_AUTO_DELETE=false

# ============================================================================
# CORE BANKING SYSTEM (CBS) CONFIGURATION
# ============================================================================
# YOUR BANK-SPECIFIC SETTINGS - Configure these for your CBS

# Base URL of your CBS API
CBS_BASE_URL=https://your-cbs-api.bank.com/api/v1

# Authentication type: none, basic, bearer, custom
CBS_AUTH_TYPE=bearer

# Basic Authentication (if CBS_AUTH_TYPE=basic)
# CBS_USERNAME=your-username
# CBS_PASSWORD=your-password

# Bearer Token Authentication (if CBS_AUTH_TYPE=bearer)
CBS_BEARER_TOKEN=your-api-token-here

# Custom Headers (if CBS_AUTH_TYPE=custom)
# Format: key1:value1,key2:value2
# CBS_CUSTOM_HEADERS=X-API-Key:secret123,X-Client-ID:client456

# SOAP Configuration (if using SOAP CBS connector)
# CBS_SOAP_ENDPOINT=https://your-cbs.bank.com/soap/v1

# Performance and reliability
CBS_TIMEOUT=30
CBS_MAX_RETRIES=3
CBS_RETRY_DELAY=1

# ============================================================================
# TELEMETRY & OBSERVABILITY CONFIGURATION
# ============================================================================
# Choose telemetry implementation: console, prometheus, datadog, noop

# Telemetry type
TELEMETRY_TYPE=console

# Enable/disable metrics collection
ENABLE_METRICS=true

# Logging configuration
LOG_LEVEL=INFO

# Prometheus configuration (if TELEMETRY_TYPE=prometheus)
# PROMETHEUS_PORT=9090
# PROMETHEUS_HOST=0.0.0.0

# Datadog configuration (if TELEMETRY_TYPE=datadog)
# DATADOG_API_KEY=your-datadog-api-key
# DATADOG_APP_KEY=your-datadog-app-key
# DATADOG_SITE=datadoghq.com

# ============================================================================
# ADAPTER CONFIGURATION
# ============================================================================

# CBS Connector Implementation
# Options: mock, rest, soap, yourbank
CBS_CONNECTOR_TYPE=mock

# Application name (for logging/metrics)
APP_NAME=OBP-Rabbit-Cats-Adapter

# Application version
APP_VERSION=1.0.0

# Environment (dev, staging, production)
ENVIRONMENT=dev

# ============================================================================
# SEPARATION OF CONCERNS - QUICK REFERENCE
# ============================================================================
#
# GENERIC CODE (DON'T MODIFY):
#   - RabbitMQ message handling
#   - OBP protocol parsing
#   - Message routing
#   - Response building
#
# YOUR CODE (CBS-SPECIFIC):
#   - CBSConnector implementation
#   - CBS API calls
#   - Data mapping
#   - Error handling
#
# CONFIGURE HERE:
#   - All the settings above
#   - CBS connection details
#   - Authentication credentials
#   - Telemetry backend choice
#
# ============================================================================

# ============================================================================
# EXAMPLES FOR DIFFERENT SCENARIOS
# ============================================================================

# Example 1: REST CBS with Basic Auth
# CBS_BASE_URL=https://cbs.mybank.com/api
# CBS_AUTH_TYPE=basic
# CBS_USERNAME=adapter-user
# CBS_PASSWORD=secure-password
# TELEMETRY_TYPE=console

# Example 2: REST CBS with Bearer Token (Production)
# CBS_BASE_URL=https://cbs.prod.mybank.com/api/v2
# CBS_AUTH_TYPE=bearer
# CBS_BEARER_TOKEN=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
# TELEMETRY_TYPE=prometheus
# ENVIRONMENT=production
# LOG_LEVEL=WARN

# Example 3: SOAP CBS with Custom Headers
# CBS_BASE_URL=https://cbs.mybank.com
# CBS_SOAP_ENDPOINT=https://cbs.mybank.com/soap/BankingService
# CBS_AUTH_TYPE=custom
# CBS_CUSTOM_HEADERS=SOAPAction:urn:getBankInfo,X-API-Key:abc123
# TELEMETRY_TYPE=datadog

# Example 4: Development with Mock CBS
# CBS_CONNECTOR_TYPE=mock
# TELEMETRY_TYPE=console
# LOG_LEVEL=DEBUG
# ENVIRONMENT=dev

# ============================================================================
# SECURITY NOTES
# ============================================================================
#
# 1. Never commit this file with real credentials to version control
# 2. Use secrets management in production (Kubernetes secrets, Vault, etc.)
# 3. Rotate credentials regularly
# 4. Use least-privilege principle for CBS API access
# 5. Enable HTTPS for all external connections
# 6. Monitor failed authentication attempts
#
# ============================================================================